<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <title>Almundo test/web-call-center</title>
    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <!-- Custom styles for this template -->
    <link href="css/logo-nav.css" rel="stylesheet"/>
    <!-- Bootstrap core JavaScript -->

</h:head>

<h:body>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">About</a>
                </li>

            </ul>
        </div>
    </div>
</nav>



<div class="container" align="center">


    <h:form>

        <p:outputLabel value="The availability of employees is analyzed as they execute a series of random calls." style="margin-top:20px"/>

        <p:poll interval="1" update="dataListAvailable, dataListBusy" autoStart="true"/>


        <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">

        <p:dataList value="#{dispacher.availableEmployeeList}" var="enableEmployee" id="dataListAvailable">
            <f:facet name="header">
                Available employees
            </f:facet>
            #{enableEmployee.name_employee}
        </p:dataList>

            <p:dataList value="#{dispacher.busyEmployeeList}" var="busyEmployee" id="dataListBusy">
                <f:facet name="header">
                    Busy employees
                </f:facet>
                #{busyEmployee.name_employee}
            </p:dataList>

        </h:panelGrid>


        <h:panelGrid columns="4" style="margin-bottom:10px" cellpadding="5">


            <p:commandButton value="Generate" icon="ui-icon-check" action="#{dispacher.startGeneratingCalls}" id="start"/>
            <p:spacer />

            <p:commandButton value="Stop" icon="ui-icon-check" action="#{dispacher.stopGeneratingCalls}" id="stop"/>
            <p:spacer />

        </h:panelGrid>
    </h:form>


</div>


<!-- Bootstrap core JavaScript -->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>


</h:body>
</html>
